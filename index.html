<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Formulario de Evaluación</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body class="bg-light">

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container">
      <a class="navbar-brand" href="#">Mi Evaluación</a>
      <div class="collapse navbar-collapse">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link active" href="#">Inicio</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Evaluación</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Contacto</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Contenido principal -->
  <div class="d-flex justify-content-center align-items-center py-5">
    <div class="card shadow p-4" style="max-width: 500px; width: 100%;">
      <h4 class="mb-4 text-center">Formulario de Evaluación</h4>

      <div class="mb-3">
        <label for="nombre" class="form-label">Nombre:</label>
        <input type="text" class="form-control" id="nombre" placeholder="Ingresa tu nombre" required>
      </div>

      <!-- Preguntas -->
      <div class="mb-3">
        <label class="form-label">Pregunta 1:</label>
        <select class="form-select respuesta">
          <option value="">Seleccionar...</option>
          <option value="25">Respuesta Correcta (25 pts)</option>
          <option value="13">Respuesta Parcial (13 pts)</option>
          <option value="0">Respuesta Incorrecta (0 pts)</option>
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">Pregunta 2:</label>
        <select class="form-select respuesta">
          <option value="">Seleccionar...</option>
          <option value="25">Respuesta Correcta (25 pts)</option>
          <option value="13">Respuesta Parcial (13 pts)</option>
          <option value="0">Respuesta Incorrecta (0 pts)</option>
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">Pregunta 3:</label>
        <select class="form-select respuesta">
          <option value="">Seleccionar...</option>
          <option value="25">Respuesta Correcta (25 pts)</option>
          <option value="13">Respuesta Parcial (13 pts)</option>
          <option value="0">Respuesta Incorrecta (0 pts)</option>
        </select>
      </div>

      <div class="mb-3">
        <label class="form-label">Pregunta 4:</label>
        <select class="form-select respuesta">
          <option value="">Seleccionar...</option>
          <option value="25">Respuesta Correcta (25 pts)</option>
          <option value="13">Respuesta Parcial (13 pts)</option>
          <option value="0">Respuesta Incorrecta (0 pts)</option>
        </select>
      </div>
 
      <!-- Botones -->
      <div class="d-flex justify-content-between">
        <button class="btn btn-primary" onclick="generarResultado()">Generar</button>
        <button class="btn btn-secondary" onclick="reiniciarFormulario()">Reiniciar</button>
      </div>

      <br/>
      <!-- Resultado + botón copiar -->
      <div class="mt-4">
        <div class="d-flex align-items-start justify-content-between">
          <pre id="resultado" class="mb-0 text-dark fw-bold flex-grow-1"></pre>
          <button class="btn btn-outline-secondary ms-2" title="Copiar" onclick="copiarResultado()">
            <i class="bi bi-clipboard"></i>
          </button>
        </div>
        <div id="mensajeCopiado" class="text-success mt-2 text-center d-none">¡Texto copiado al portapapeles!</div>
      </div>
    </div>
  </div>

  <!-- JS -->
  <script>
    function generarResultado() {
      const nombre = document.getElementById('nombre').value.trim();
      const respuestas = document.querySelectorAll('.respuesta');
      let total = 0;
      let mensaje = `Hola ${nombre}:\n`;

      for (let i = 0; i < respuestas.length; i++) {
        const valor = respuestas[i].value;
        if (valor === "") {
          alert(`Selecciona un valor para la pregunta ${i + 1}`);
          return;
        }
        const puntos = parseInt(valor);
        const textoRespuesta = respuestas[i].options[respuestas[i].selectedIndex].text;
        total += puntos;
        mensaje += `Pregunta ${i + 1}: ${textoRespuesta}\n`;
      }

      mensaje += `Total: ${total} puntos`;
      document.getElementById('resultado').innerText = mensaje;
      document.getElementById('mensajeCopiado').classList.add('d-none');
    }

    function reiniciarFormulario() {
      document.getElementById('nombre').value = '';
      document.querySelectorAll('.respuesta').forEach(select => select.value = '');
      document.getElementById('resultado').innerText = '';
      document.getElementById('mensajeCopiado').classList.add('d-none');
    }

    function copiarResultado() {
      const texto = document.getElementById('resultado').innerText;
      if (texto.trim() === "") {
        alert("No hay nada que copiar.");
        return;
      }
      navigator.clipboard.writeText(texto)
        .then(() => {
          const mensaje = document.getElementById('mensajeCopiado');
          mensaje.classList.remove('d-none');
          setTimeout(() => mensaje.classList.add('d-none'), 2000);
        })
        .catch(err => {
          alert("Error al copiar: " + err);
        });
    }
  </script>

</body>
</html>
